{"version":3,"sources":["webpack:///./src/demo/sprite.js"],"names":["mountPoint","document","getElementById","canvas","createElement","classList","add","appendChild","app","el","resolution","width","height","debug","clearColor","start","load","basePath","programs","textures","sonic","src","mag","gl","NEAREST","min","LINEAR","flipY","console","log","getParameter","MAX_ARRAY_TEXTURE_LAYERS","run","loader","loading","renderer","game","textureInfo","texture","getTexture","grid","addGrid","sprites","push","position","size","requestAnimationFrame","render","adjustViewport","clear"],"mappings":";;;;;;;;;;AAAA;;AAEA;;AACA;;;;AACA;;;;AAEA,MAAMA,aAAaC,SAASC,cAAT,CAAwB,SAAxB,CAAnB;AACA,MAAMC,SAASF,SAASG,aAAT,CAAuB,QAAvB,CAAf;AACAD,OAAOE,SAAP,CAAiBC,GAAjB,CAAqB,MAArB;AACAN,WAAWO,WAAX,CAAuBJ,MAAvB;;AAEA,MAAMK,MAAM,kBAAQ;AAChBC,QAAIN,MADY;AAEhBO,gBAAY;AACRC,eAAO,GADC;AAERC,gBAAQ;AAFA,KAFI;AAMhBC,WAAO,KANS;AAOhBC,gBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB;AAPI,CAAR,CAAZ;;AAUAN,IAAIO,KAAJ;;AAEA;AACA;AACA;AACA;AACA;;AAEAP,IAAIQ,IAAJ,CAAS;AACLC,cAAU,UADL;AAELC,cAAU,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB;AAFL,CAAT;;AAKAV,IAAIQ,IAAJ,CAAS;AACLC,cAAU,MADL;AAELE,cAAU;AACNC,eAAO;AACHC,iBAAK,gBADF;AAEHC,iBAAKd,IAAIe,EAAJ,CAAOC,OAFT;AAGHC,iBAAKjB,IAAIe,EAAJ,CAAOG,MAHT;AAIHC,mBAAO;AAJJ;AADD;AAFL,CAAT;;AAYAC,QAAQC,GAAR,CAAYrB,IAAIe,EAAJ,CAAOO,YAAP,CAAoBtB,IAAIe,EAAJ,CAAOQ,wBAA3B,CAAZ;;AAEA,eAAeC,GAAf,GAAqB;AACjB,UAAMxB,IAAIyB,MAAJ,CAAWC,OAAjB;;AAEA,UAAMC,WAAW,6BAAmB;AAChCC,cAAM5B,GAD0B;AAEhC6B;AACIC,qBAAS9B,IAAIyB,MAAJ,CAAWM,UAAX,CAAsB,OAAtB;AADb,WAEO/B,IAAIE,UAFX;AAFgC,KAAnB,CAAjB;;AAQA,UAAM8B,OAAO,0BAAgBhC,GAAhB,CAAb;AACAgC,SAAKC,OAAL,CAAc,CAAd,EAAkB,CAAlB,EAAqB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAArB,EAA2C,IAA3C;AACAD,SAAKC,OAAL,CAAa,EAAb,EAAiB,EAAjB,EAAqB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAArB,EAA2C,GAA3C;AACAD,SAAKC,OAAL,CAAa,EAAb,EAAiB,EAAjB,EAAqB,CAAC,CAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAArB,EAA2C,CAA3C;;AAEA,UAAMC,UAAU,EAAhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,YAAQC,IAAR,CACI,uBAAW;AACPC,kBAAU,CAAC,EAAD,EAAK,EAAL,CADH;AAEPC,cAAM,CAAC,GAAD,EAAM,GAAN;AAFC,KAAX,CADJ;;AAOAC,0BAAsB,SAASC,MAAT,GAAkB;AACpCvC,YAAIwC,cAAJ;AACAxC,YAAIyC,KAAJ;AACA;AACAT,aAAKO,MAAL;AACAD,8BAAsBC,MAAtB;AACH,KAND;AAOH;;AAEDf,M","file":"sprite.bundle.js","sourcesContent":["import {SpriteRenderer,\n        GridOutline} from 'graphics.js';\nimport {Sprite} from 'components.js';\nimport App from 'app.js';\nimport '../css/app.css';\n\nconst mountPoint = document.getElementById('content');\nconst canvas = document.createElement('canvas');\ncanvas.classList.add('game')\nmountPoint.appendChild(canvas);\n\nconst app = new App({\n    el: canvas,\n    resolution: {\n        width: 640,\n        height: 480\n    },\n    debug: false,\n    clearColor: [0.1, 0.1, 0.1, 1]\n});\n\napp.start();\n\n// app.load({\n//     basePath: 'shaders/',\n//     paths: ['sprite.frag', 'sprite.vert',\n//             'grid.frag', 'grid.vert']\n// });\n\napp.load({\n    basePath: 'shaders/',\n    programs: ['sprite', 'grid', 'tilemap']\n});\n\napp.load({\n    basePath: 'img/',\n    textures: {\n        sonic: {\n            src: 'img/Sonic1.gif',\n            mag: app.gl.NEAREST,\n            min: app.gl.LINEAR,\n            flipY: true\n        }\n    }\n});\n\nconsole.log(app.gl.getParameter(app.gl.MAX_ARRAY_TEXTURE_LAYERS));\n\nasync function run() {\n    await app.loader.loading;\n\n    const renderer = new SpriteRenderer({\n        game: app,\n        textureInfo: {\n            texture: app.loader.getTexture('sonic'),\n            ...app.resolution\n        }\n    });\n\n    const grid = new GridOutline(app);\n    grid.addGrid( 8,  8, [0.4, 0.1, 0.9, 0.4], 0.25);\n    grid.addGrid(16, 16, [0.1, 0.3, 0.9, 0.4], 0.5);\n    grid.addGrid(32, 32, [0,   0.5, 0.9, 0.3], 1);\n\n    const sprites = [];\n    // for (let i = 0; (i < app.resolution.width / 32); ++i) {\n    //     for (let j = 0; j < (app.resolution.height / 32); ++j) {\n    //         sprites.push(new Sprite([i * 32 + 10, j * 32 + 10], [20, 40]));\n    //         break;\n    //     }\n    //     break;\n    // }\n\n    sprites.push(\n        new Sprite({\n            position: [10, 10],\n            size: [300, 734]\n        })\n    );\n\n    requestAnimationFrame(function render() {\n        app.adjustViewport();\n        app.clear();\n        //renderer.render(sprites);\n        grid.render();\n        requestAnimationFrame(render);\n    });\n}\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/sprite.js"],"sourceRoot":""}